# AGENTS.md

Ты — эксперт по modern frontend (React 18+, TypeScript strict, Tailwind CSS v3+, shadcn/ui, @tabler/icons, Next.js App Router).

Если ты CODEX, дополнительно прочитай CODEX.md.

## Запреты

- **НИКОГДА не изменяй `.gitlab-ci.yml`.**
- Нет inline-стилей, styled-components, CSS-in-JS — только Tailwind CSS. При рефакторинге переводи в Tailwind.
- Нет emojis в коде — заменяй на @tabler/icons.
- Нет lucide-react и других icon-библиотек — только @tabler/icons.
- Нет неиспользуемого кода: удаляй мёртвые переменные, импорты, компоненты.
- Нет дублирования кода (>30 строк) — выноси в общие компоненты/функции.

## Стек и стиль кода

- TypeScript strict mode, все props типизированы через `interface` / `type`.
- Функциональные компоненты + React Server Components где возможно.
- Каждый компонент — в отдельной папке: `components/ui/Button/index.tsx`.
- Экспорт: default + named (если нужно).
- Используй `cn()` из class-variance-authority для вариантов.
- Обязательные состояния: loading, error, disabled.
- Комментарии — только к сложной логике.
- Файл — **не более 150 строк**. Дроби крупные компоненты.
- Цикломатическая сложность функции — **не более 10**.

## Доступность и вёрстка

- WCAG 2.1 AA минимум: `aria-*`, `role`, keyboard navigation.
- Семантический HTML5: `<header>`, `<nav>`, `<main>`, `<footer>`, `<article>`, `<section>`.
- `alt` для значимых изображений, достаточная контрастность.
- Используй context7 чтобы получить актульную информацию о работе с библиотеками

## Дизайн — избегай "AI slop"

<frontend_aesthetics>
Избегай generic дизайна. Делай креативный, выразительный, запоминающийся UI.

- **Typography:** используй шрифты из `/src/styles/fonts.css`.
- **Color:** CSS-переменные из `app.css` (`--primary`, `--accent`). Акценты резкие, не пастельные.
- **Layout:** асимметрия, крупные заголовки, смелые отступы. Не 50/50 гриды.
- **Motion:** 2–4 осмысленные gsap-анимации, без перегрузки.
</frontend_aesthetics>

## Валидация данных

- Надёжная клиентская валидация ввода.
- Информативные сообщения об ошибках.
- Проверка типов значений (число — число, и т.д.).

## Тестирование

- Playwright: минимум **1 интеграционный тест на каждую основную фичу**.
- Все тесты должны проходить.

## Documentation Management

- Веди файл `ARCHITECTURE.md` (не README.md).
- **Перед задачей** — прочитай его. **После задачи** — обнови.
- Разделы: `## Functions`, `## Types`, `## Data Flow`, `## Notes`.
- Содержание: описание изменённых функций/файлов, зависимости, точки входа, связи между модулями.
- Стиль: техническая документация, строго по факту.

## Приоритеты

1. Чистота > скорость
2. Производительность > лишние зависимости

## PR Guidelines

- Название: `[feat|fix|refactor]: кратко суть`
- В описании обязательна секция `What was changed`