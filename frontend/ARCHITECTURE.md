## Functions

- `apiClient.request<T>(endpoint, options)` in `lib/api-client.ts` executes HTTP requests against `NEXT_PUBLIC_API_URL`, normalizes request body/headers, and throws typed API errors.
- `apiClient.get<T>()` and `apiClient.post<T>()` in `lib/api-client.ts` provide typed convenience wrappers.
- `useAppStore` in `store/use-app-store.ts` stores a basic readiness flag for initial Zustand wiring.
- `useScheduleStore` in `store/schedule.ts` loads subjects and lesson slots, handles CRUD for subjects/slots, and tracks loading/error/day selection states.
- `SchedulePageClient` in `components/schedule/schedule-page-client.tsx` coordinates schedule data fetching and modal orchestration for slot/subject management.
- `ScheduleGrid` in `components/schedule/schedule-grid.tsx` renders adaptive schedule views (mobile day tabs + desktop weekday columns).
- `ScheduleForm` in `components/schedule/schedule-form.tsx` validates and submits lesson slots with overlap and time-order checks.
- `SubjectManager` in `components/schedule/subject-manager.tsx` provides subject CRUD UI with color selection.
- `ScheduleSlotCard` in `components/schedule/schedule-slot-card.tsx` displays a lesson slot with subject color marker and edit/delete actions.

## Types

- `ApiRequestOptions` in `types/api.ts` supports generic request bodies for JSON and form payloads.
- `Subject`, `SubjectCreate`, `SubjectUpdate`, `ScheduleSlot`, `ScheduleSlotCreate`, and `ScheduleSlotUpdate` in `types/schedule.ts` define the scheduling domain model.
- `ScheduleStore` in `store/schedule.ts` defines the Zustand contract used by the schedule page.

## Data Flow

1. `app/schedule/page.tsx` renders `SchedulePageClient` as the `/schedule` entry point.
2. On mount, `SchedulePageClient` calls `fetchSubjects()` and `fetchSchedule()` from `useScheduleStore`.
3. `ScheduleGrid` receives subjects/slots from the store and renders either mobile tabs or desktop weekday columns.
4. `ScheduleForm` and `SubjectManager` submit CRUD actions through `useScheduleStore`, which syncs changes back from API endpoints.
5. `ScheduleSlotCard` resolves subject metadata by `subject_id` and exposes edit/delete callbacks.

## Notes

- New schedule API paths are centralized in `store/schedule.ts` as `/subjects` and `/schedule/slots`.
- Subject color rendering uses a constrained palette from `components/schedule/constants.ts` to avoid inline style usage.
- `/schedule` is statically generated by Next.js and becomes interactive client-side through Zustand state.
