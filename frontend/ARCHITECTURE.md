## Functions

- `RootLayout` in `app/layout.tsx` applies Inter font, metadata, and wraps all routes into `AppShell`.
- `AppShell` in `components/layout/app-shell.tsx` composes `Sidebar`, `Header`, and `BottomNav`, maps route titles, and runs GSAP entry animations on navigation.
- `Sidebar` in `components/layout/sidebar.tsx` renders desktop navigation with active-state highlighting and collapse/expand behavior.
- `BottomNav` in `components/layout/bottom-nav.tsx` renders fixed mobile navigation with icon + label tabs.
- `Header` in `components/layout/header.tsx` displays the current page title and action slot with `NotificationBell`.
- `NotificationBell` in `components/layout/notification-bell.tsx` polls `/api/v1/reminders/pending` every 60 seconds and renders a dropdown with pending reminders.

## Types

- `NavigationItem` in `components/layout/navigation-config.ts` defines typed navigation records (route, label, icon component).
- `ReminderItem` and `PendingRemindersResponse` in `components/layout/notification-bell.tsx` define reminder payload structures for polling UI.
- `pageTitles` in `components/layout/navigation-config.ts` centralizes route-to-title mapping used by the header.

## Data Flow

1. Every route is wrapped by `RootLayout` and rendered inside `AppShell`.
2. `AppShell` reads pathname from App Router and passes mapped title to `Header`.
3. `Sidebar` and `BottomNav` reuse `navigationItems` config and compute active items by current pathname.
4. `NotificationBell` fetches pending reminders via `apiClient.get` and refreshes data on a 60-second interval.
5. Route pages (`/`, `/schedule`, `/homework`, `/reminders`, `/analytics`, `/materials`) render section-level content inside the shared shell container.

## Notes

- `next.config.ts` enables `experimental.turbopackUseSystemTlsCerts` to avoid Google Fonts TLS issues in this environment.
- `next.config.ts` also sets `allowedDevOrigins` for `127.0.0.1` used by browser-based integration checks.
- Primary and accent color tokens in `app/globals.css` are shifted to brighter values to match the school-themed UI direction.
- `@tabler/icons-react` is used for all navigation/action icons to align with project icon rules.
- `apiClient.request<T>(endpoint, options)` in `lib/api-client.ts` executes HTTP requests against `NEXT_PUBLIC_API_URL`, normalizes request body/headers, and throws typed API errors.
- `apiClient.get<T>()` and `apiClient.post<T>()` in `lib/api-client.ts` provide typed convenience wrappers.
- `useAppStore` in `store/use-app-store.ts` stores a basic readiness flag for initial Zustand wiring.
- `useScheduleStore` in `store/schedule.ts` loads subjects and lesson slots, handles CRUD for subjects/slots, and tracks loading/error/day selection states.
- `SchedulePageClient` in `components/schedule/schedule-page-client.tsx` coordinates schedule data fetching and modal orchestration for slot/subject management.
- `ScheduleGrid` in `components/schedule/schedule-grid.tsx` renders adaptive schedule views (mobile day tabs + desktop weekday columns).
- `ScheduleForm` in `components/schedule/schedule-form.tsx` validates and submits lesson slots with overlap and time-order checks.
- `SubjectManager` in `components/schedule/subject-manager.tsx` provides subject CRUD UI with color selection.
- `ScheduleSlotCard` in `components/schedule/schedule-slot-card.tsx` displays a lesson slot with subject color marker and edit/delete actions.

## Types

- `ApiRequestOptions` in `types/api.ts` supports generic request bodies for JSON and form payloads.
- `Subject`, `SubjectCreate`, `SubjectUpdate`, `ScheduleSlot`, `ScheduleSlotCreate`, and `ScheduleSlotUpdate` in `types/schedule.ts` define the scheduling domain model.
- `ScheduleStore` in `store/schedule.ts` defines the Zustand contract used by the schedule page.

## Data Flow

1. `app/schedule/page.tsx` renders `SchedulePageClient` as the `/schedule` entry point.
2. On mount, `SchedulePageClient` calls `fetchSubjects()` and `fetchSchedule()` from `useScheduleStore`.
3. `ScheduleGrid` receives subjects/slots from the store and renders either mobile tabs or desktop weekday columns.
4. `ScheduleForm` and `SubjectManager` submit CRUD actions through `useScheduleStore`, which syncs changes back from API endpoints.
5. `ScheduleSlotCard` resolves subject metadata by `subject_id` and exposes edit/delete callbacks.

## Notes

- New schedule API paths are centralized in `store/schedule.ts` as `/subjects` and `/schedule/slots`.
- Subject color rendering uses a constrained palette from `components/schedule/constants.ts` to avoid inline style usage.
- `/schedule` is statically generated by Next.js and becomes interactive client-side through Zustand state.
